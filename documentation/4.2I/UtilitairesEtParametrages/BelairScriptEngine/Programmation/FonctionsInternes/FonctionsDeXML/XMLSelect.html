<body>


<h3>Fonctions de XML</h3>

	<!-- Fonction DATEALP -->
	<div class="panel panel-info">
		<div class="panel-heading">
			<h3 class="panel-title"><code>XML:Select(doc, Xpath)</code>
		</h3></div>
		<div class="panel-body">
			<p>La fonction recherche le nœud spécifié par la requête <a href="https://www.w3schools.com/xml/xpath_intro.asp" target="__BLANK">XPath</a>, et rend le nœud trouvé (ou le premier nœud de la collection sélectionnée) courant.
			<br>Si la requête ne trouve rien, le nœud racine du document sera le courant.
			</p>
			<br>
			<div class="alert alert-info" role="alert"><p><b>Notez que :</b> 
			<br>
			<br>Les expressions XPath sont <b>sensitives à la casse de caractères</b>.</p></div>
			<br>
			<p>
				<b>Paramètres d'entrée :</b>
				</p><ul>
				<li><code>doc</code> : le document XML.</li>
				<li><code>Xpath</code> : la requête XPath.</li>
				</ul>
			
			<br>
			<p><b>Résultat :</b>
			</p><ul><li>True - trouvé.</li>
			<li>False - non trouvé.</li>
			</ul>
			
			
				<br><b>Exemples :</b><br>
				
				<pre><code class="c syntaxhl"><span class="CodeRay">local doc
doc := XML:New()
XML:StartNode(doc, <span class="string"><span class="delimiter">"</span><span class="content">cars</span><span class="delimiter">"</span></span>)
  XML:AppendNode(doc, <span class="string"><span class="delimiter">"</span><span class="content">manufacturer</span><span class="delimiter">"</span></span>, <span class="string"><span class="delimiter">"</span><span class="content">Toyota</span><span class="delimiter">"</span></span>)
  XML:StartNode(doc, <span class="string"><span class="delimiter">"</span><span class="content">manufacturer</span><span class="delimiter">"</span></span>)
    XML:SetNodeText(doc, <span class="string"><span class="delimiter">"</span><span class="content">Renault</span><span class="delimiter">"</span></span>)
    XML:SetAttr(doc, <span class="string"><span class="delimiter">"</span><span class="content">country</span><span class="delimiter">"</span></span>, <span class="string"><span class="delimiter">"</span><span class="content">France</span><span class="delimiter">"</span></span>)
  XML:EndNode(doc)
  XML:AppendNode(doc, <span class="string"><span class="delimiter">"</span><span class="content">manufacturer</span><span class="delimiter">"</span></span>, <span class="string"><span class="delimiter">"</span><span class="content">Nissan</span><span class="delimiter">"</span></span>)
XML:EndNode(doc)
Print(XML:ToString(doc))
<span class="keyword">if</span> XML:Select(doc, <span class="string"><span class="delimiter">"</span><span class="content">/cars/manufacturer[1]</span><span class="delimiter">"</span></span>) then
  Print(XML:GetNodeName(doc) + <span class="string"><span class="delimiter">"</span><span class="content">: </span><span class="delimiter">"</span></span> + XML:GetNodeText(doc))
<span class="keyword">if</span> XML:Select(doc, <span class="string"><span class="delimiter">"</span><span class="content">//manufacturer[@country='France']</span><span class="delimiter">"</span></span>) then
  Print(XML:GetNodeName(doc) + <span class="string"><span class="delimiter">"</span><span class="content">: </span><span class="delimiter">"</span></span> + XML:GetNodeText(doc))
<span class="keyword">if</span> XML:Select(doc, <span class="string"><span class="delimiter">"</span><span class="content">//*[text()='Renault']</span><span class="delimiter">"</span></span>) then
  Print(XML:GetNodeName(doc) + <span class="string"><span class="delimiter">"</span><span class="content">: </span><span class="delimiter">"</span></span> + XML:GetNodeText(doc))
</span></code></pre>


<p>Résultat :</p>

<pre><code class="xml syntaxhl"><span class="CodeRay"><span class="preprocessor">&lt;?xml version="1.0"?&gt;</span>
<span class="tag">&lt;cars&gt;</span>
  <span class="tag">&lt;manufacturer&gt;</span>Toyota<span class="tag">&lt;/manufacturer&gt;</span>
  <span class="tag">&lt;manufacturer</span> <span class="attribute-name">country</span>=<span class="string"><span class="delimiter">"</span><span class="content">France</span><span class="delimiter">"</span></span><span class="tag">&gt;</span>Renault<span class="tag">&lt;/manufacturer&gt;</span>
  <span class="tag">&lt;manufacturer&gt;</span>Nissan<span class="tag">&lt;/manufacturer&gt;</span>
<span class="tag">&lt;/cars&gt;</span>

manufacturer: Toyota
manufacturer: Renault
manufacturer: Renault
</span></code></pre>
			
		</div>
	</div>
	<br>
	<br>
</body>